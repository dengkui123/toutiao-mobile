{"version":3,"sources":["webpack:///./src/page/Home/index.vue?55c8","webpack:///./src/api/article.js","webpack:///./src/page/Home/components/article-list.vue?92bd","webpack:///./src/page/Home/index.vue?550a","webpack:///./src/page/Home/components/article-list.vue?24c9","webpack:///src/page/Home/components/article-list.vue","webpack:///./src/page/Home/components/article-list.vue?82fd","webpack:///./src/page/Home/components/article-list.vue","webpack:///./src/page/Home/components/channel-edit.vue?ab50","webpack:///./src/api/channel.js","webpack:///src/page/Home/components/channel-edit.vue","webpack:///./src/page/Home/components/channel-edit.vue?fd17","webpack:///./src/page/Home/components/channel-edit.vue","webpack:///src/page/Home/index.vue","webpack:///./src/page/Home/index.vue?96dc","webpack:///./src/page/Home/index.vue","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/components/article-item/index.vue?60b5","webpack:///src/components/article-item/index.vue","webpack:///./src/components/article-item/index.vue?6231","webpack:///./src/components/article-item/index.vue","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./src/api/user.js","webpack:///./src/components/article-item/index.vue?af81","webpack:///./src/page/Home/components/channel-edit.vue?8ba8"],"names":["getArticles","params","request","method","url","getArticleById","articleId","addCollect","target","data","delCollect","addLike","delLike","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","model","value","callback","$$v","active","expression","_l","channel","key","id","name","on","$event","isChannelEditShow","style","height","channels","onUpdateActive","staticRenderFns","ref","reFreshSuccessText","onRefresh","isreFreshLoading","finished","error","onLoad","loading","article","index","components","ArticleItem","props","type","Object","required","list","timestamp","scrollTop","watch","computed","methods","created","mounted","articleList","onscroll","console","log","activated","$refs","component","isEdit","_s","onMyChannelClick","directives","rawName","fixedChannels","includes","class","onAddChannel","getAllChannels","addUserChannel","deleteUserChannel","myChannels","Array","Number","allChannels","recommendChannels","filter","myChannel","splice","$emit","deleteChannel","loadAllChannels","ArticleList","ChannelEdit","loadChannels","module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","trim","title","cover","img","_e","userInfo","aut_name","comm_count","_f","pubdate","images","$","$find","find","addToUnscopables","FIND","SKIPS_HOLES","proto","forced","callbackfn","arguments","length","undefined","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","NUMBER","NativeNumber","NumberPrototype","prototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","code","it","charCodeAt","NaN","slice","parseInt","NumberWrapper","dummy","valueOf","call","keys","split","j","constructor","login","sendSms","mobile","getUserInfo","getUserChannels","addFollow","delFollow","getUsersInfo","getUserArticleById","getUserProfile","updateUserProfile","updateUserPhoto"],"mappings":"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","file":"js/chunk-6655383a.be367a25.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6987d672&lang=less&scoped=true&\"","\r\n// 文章请求模块\r\nimport request from '@/utils/request'\r\n\r\n// 请求获取文章列表数据\r\nexport const getArticles = params => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/app/v1_1/articles',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取文章详情\r\nexport const getArticleById = articleId => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/app/v1_0/articles/${articleId}`,\r\n  })\r\n}\r\n\r\n// 收藏文章\r\nexport const addCollect = target => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/app/v1_0/article/collections',\r\n    data: {\r\n      target\r\n    }\r\n  })\r\n}\r\n\r\n// 取消收藏文章\r\nexport const delCollect = target => {\r\n  return request({\r\n    method: 'DELETE',\r\n    url: `/app/v1_0/article/collections/${target}`,\r\n  })\r\n}\r\n\r\n// 点赞文章\r\nexport const addLike = target => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/app/v1_0/article/likings',\r\n    data: {\r\n      target\r\n    }\r\n  })\r\n}\r\n\r\n// 取消点赞文章\r\nexport const delLike = target => {\r\n  return request({\r\n    method: 'DELETE',\r\n    url: `/app/v1_0/article/likings/${target}`,\r\n  })\r\n}\r\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article-list.vue?vue&type=style&index=0&id=03f17ba8&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-container\"},[_c('van-nav-bar',{staticClass:\"page-nav-bar\",attrs:{\"fixed\":\"\"}},[_c('van-button',{staticClass:\"search-btn\",attrs:{\"slot\":\"title\",\"type\":\"info\",\"size\":\"small\",\"round\":\"\",\"icon\":\"search\",\"to\":\"/search\"},slot:\"title\"},[_vm._v(\"搜索\")])],1),_c('van-tabs',{staticClass:\"van-tabs\",attrs:{\"animated\":\"\",\"swipeable\":\"\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_vm._l((_vm.channels),function(channel){return _c('van-tab',{key:channel.id,attrs:{\"title\":channel.name}},[_c('article-list',{attrs:{\"channel\":channel}})],1)}),_c('div',{staticClass:\"placeholder\",attrs:{\"slot\":\"nav-right\"},slot:\"nav-right\"}),_c('div',{staticClass:\"hamburger-btn\",attrs:{\"slot\":\"nav-right\"},on:{\"click\":function($event){_vm.isChannelEditShow = true}},slot:\"nav-right\"},[_c('i',{staticClass:\"iconfont icon-gengduo\"})])],2),_c('van-popup',{style:({ height: '100%' }),attrs:{\"closeable\":\"\",\"position\":\"bottom\",\"close-icon-position\":\"top-left\"},model:{value:(_vm.isChannelEditShow),callback:function ($$v) {_vm.isChannelEditShow=$$v},expression:\"isChannelEditShow\"}},[_c('channel-edit',{attrs:{\"my-channels\":_vm.channels,\"active\":_vm.active},on:{\"update-active\":_vm.onUpdateActive}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"article-list\",staticClass:\"article-list\"},[_c('van-pull-refresh',{attrs:{\"success-text\":_vm.reFreshSuccessText,\"success-duration\":\"1500\"},on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isreFreshLoading),callback:function ($$v) {_vm.isreFreshLoading=$$v},expression:\"isreFreshLoading\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"error\":_vm.error,\"error-text\":\"加载失败,请点击重新加载\"},on:{\"update:error\":function($event){_vm.error=$event},\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(article,index){return _c('article-item',{key:index,attrs:{\"article\":article}})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"article-list\" ref=\"article-list\">\r\n    <!-- 文章列表 -->\r\n    <van-pull-refresh\r\n      v-model=\"isreFreshLoading\"\r\n      :success-text=\"reFreshSuccessText\"\r\n      success-duration=\"1500\"\r\n      @refresh=\"onRefresh\"\r\n    >\r\n      <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        :error.sync=\"error\"\r\n        error-text=\"加载失败,请点击重新加载\"\r\n        @load=\"onLoad\"\r\n      >\r\n        <article-item\r\n          v-for=\"(article, index) in list\"\r\n          :key=\"index\"\r\n          :article=\"article\"\r\n        ></article-item>\r\n        <!-- <van-cell\r\n          v-for=\"( article, index) in list\"\r\n          :key=\"index\"\r\n          :title=\"article.title\"\r\n        /> -->\r\n      </van-list>\r\n    </van-pull-refresh>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getArticles } from '@/api/article'\r\nimport ArticleItem from '@/components/article-item'\r\nimport { debounce } from 'lodash'\r\n\r\nexport default {\r\n  name: 'ArticleList',\r\n  components: {\r\n    ArticleItem,\r\n  },\r\n  props: {\r\n    channel: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      list: [], // 文章列表\r\n      loading: false, // 加载状态\r\n      finished: false, // 结束状态\r\n      timestamp: null, // 请求数据的时间戳\r\n      error: false, // 加载错误\r\n      isreFreshLoading: false, // 控制下拉刷新的状态\r\n      reFreshSuccessText: '刷新成功',\r\n      scrollTop: '',\r\n    }\r\n  },\r\n  watch: {},\r\n  computed: {},\r\n  methods: {\r\n    async onLoad() {\r\n      this.loading = true;\r\n      // 异步更新数据\r\n      try {\r\n        const { data } = await getArticles({\r\n          channel_id: this.channel.id,\r\n          // 请求第一页数据的时间戳,请求之后数据的时间戳在请求返回数据中\r\n          timestamp: this.timestamp || Date.now(),\r\n          with_top: 1 // 是否包含置顶\r\n        })\r\n        const { results } = data.data;\r\n        this.list.push(...results);\r\n\r\n        // 加载结束把加载状态设为结束\r\n        this.loading = false;\r\n\r\n        if (results.length) {\r\n          this.timestamp = data.data.pre_timestamp;\r\n        } else {\r\n          this.finished = true;\r\n        }\r\n      } catch (err) {\r\n        this.error = true;\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    async onRefresh() {\r\n      // 下拉刷新数据\r\n      try {\r\n        const { data } = await getArticles({\r\n          channel_id: this.channel.id,\r\n          // 请求第一页数据的时间戳,请求之后数据的时间戳在请求返回数据中\r\n          timestamp: Date.now(),\r\n          with_top: 1 // 是否包含置顶\r\n        })\r\n        const { results } = data.data\r\n        this.list.unshift(...results);\r\n        // 关闭下拉刷新的loading状态\r\n        this.isreFreshLoading = false;\r\n        this.reFreshSuccessText = `刷新成功,更新了${results.length}条数据`;\r\n      } catch (err) {\r\n        this.isreFreshLoading = false;\r\n        this.reFreshSuccessText = '刷新失败';\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  mounted() {\r\n    const articleList = this.$refs['article-list'];\r\n    articleList.onscroll = debounce(() => {\r\n      console.log(articleList.scrollTop);\r\n      this.scrollTop = articleList.scrollTop;\r\n    }, 100)\r\n  },\r\n  activated() {\r\n    this.$refs['article-list'].scrollTop = this.scrollTop;\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.article-list {\r\n  height: 79vh;\r\n  overflow-y: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./article-list.vue?vue&type=template&id=03f17ba8&scoped=true&\"\nimport script from \"./article-list.vue?vue&type=script&lang=js&\"\nexport * from \"./article-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./article-list.vue?vue&type=style&index=0&id=03f17ba8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03f17ba8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"channel-edit\"},[_c('van-cell',{attrs:{\"border\":false}},[_c('div',{staticClass:\"title-text\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"我的频道\")]),_c('van-button',{staticClass:\"edit-btn\",attrs:{\"type\":\"danger\",\"plain\":\"\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.isEdit = !_vm.isEdit}}},[_vm._v(_vm._s(_vm.isEdit ? '完成' : '编辑'))])],1),_c('van-grid',{staticClass:\"my-grid\",attrs:{\"gutter\":10}},_vm._l((_vm.myChannels),function(channel,index){return _c('van-grid-item',{key:index,staticClass:\"grid-item\",on:{\"click\":function($event){return _vm.onMyChannelClick(channel, index)}}},[_c('van-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEdit && !_vm.fixedChannels.includes(channel.id)),expression:\"isEdit && !fixedChannels.includes(channel.id)\"}],attrs:{\"slot\":\"icon\",\"name\":\"clear\"},slot:\"icon\"}),_c('span',{staticClass:\"text\",class:{ active: index === _vm.active },attrs:{\"slot\":\"text\"},slot:\"text\"},[_vm._v(_vm._s(channel.name))])],1)}),1),_c('van-cell',{attrs:{\"border\":false}},[_c('div',{staticClass:\"title-text\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"频道推荐\")])]),_c('van-grid',{staticClass:\"recommend-grid\",attrs:{\"gutter\":10}},_vm._l((_vm.recommendChannels),function(channel,index){return _c('van-grid-item',{key:index,staticClass:\"grid-item\",attrs:{\"text\":channel.name,\"icon\":\"plus\"},on:{\"click\":function($event){return _vm.onAddChannel(channel)}}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n// 频道请求模块\r\n\r\nimport request from '@/utils/request'\r\n\r\n// 获取所有频道列表\r\n\r\nexport const getAllChannels = () => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/app/v1_0/channels',\r\n  })\r\n}\r\n\r\n// 添加用户频道\r\nexport const addUserChannel = (channel) => {\r\n  return request({\r\n    method: 'PATCH',\r\n    url: '/app/v1_0/user/channels',\r\n    data: {\r\n      channels: [channel]\r\n    }\r\n  })\r\n}\r\n\r\n// 删除用户频道\r\nexport const deleteUserChannel = (channel) => {\r\n  return request({\r\n    method: 'DELETE',\r\n    url: `/app/v1_0/user/channels/${channel}`,\r\n  })\r\n}\r\n","<template>\r\n  <div class=\"channel-edit\">\r\n    <van-cell :border=\"false\">\r\n      <div slot=\"title\" class=\"title-text\">我的频道</div>\r\n      <van-button\r\n        class=\"edit-btn\"\r\n        type=\"danger\"\r\n        plain\r\n        round\r\n        size=\"mini\"\r\n        @click=\"isEdit = !isEdit\"\r\n      >{{ isEdit ? '完成' : '编辑' }}</van-button>\r\n    </van-cell>\r\n    <van-grid class=\"my-grid\" :gutter=\"10\">\r\n      <van-grid-item\r\n        class=\"grid-item\"\r\n        v-for=\"(channel, index) in myChannels\"\r\n        :key=\"index\"\r\n        @click=\"onMyChannelClick(channel, index)\"\r\n      >\r\n      <van-icon\r\n        v-show=\"isEdit && !fixedChannels.includes(channel.id)\"\r\n        slot=\"icon\"\r\n        name=\"clear\"\r\n      ></van-icon>\r\n      <!-- 条件绑定处理样式 -->\r\n      <span\r\n        class=\"text\"\r\n        :class=\"{ active: index === active }\"\r\n        slot=\"text\"\r\n      >{{ channel.name }}</span>\r\n      </van-grid-item>\r\n    </van-grid>\r\n    <!-- 频道推荐 -->\r\n    <van-cell :border=\"false\">\r\n      <div slot=\"title\" class=\"title-text\">频道推荐</div>\r\n    </van-cell>\r\n    <van-grid class=\"recommend-grid\" :gutter=\"10\">\r\n      <van-grid-item\r\n        class=\"grid-item\"\r\n        v-for=\"(channel, index) in recommendChannels\"\r\n        :key=\"index\"\r\n        :text=\"channel.name\"\r\n        icon=\"plus\"\r\n        @click=\"onAddChannel(channel)\"\r\n      />\r\n    </van-grid>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAllChannels, addUserChannel, deleteUserChannel } from '@/api/channel'\r\nimport { mapState } from 'vuex'\r\nimport { setItem } from '@/utils/storage'\r\n\r\nexport default {\r\n  name: 'ChannelEdit',\r\n  components: {},\r\n  props: {\r\n    myChannels: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    active: {\r\n      type: Number,\r\n      required: true,\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      allChannels: [],\r\n      isEdit: false, // 控制编辑状态的显示\r\n      fixedChannels: [0], // 不允许被删除\r\n    }\r\n  },\r\n  watch: {},\r\n  computed: {\r\n    ...mapState(['user']),\r\n    recommendChannels() {\r\n      return this.allChannels.filter(channel => {\r\n        return !this.myChannels.find(myChannel => {\r\n          return myChannel.id === channel.id\r\n        })\r\n      })\r\n    },\r\n    //   const channels = [];\r\n    //   this.allChannels.forEach(channel => {\r\n    //     const res = this.myChannels.find(myChannel => {\r\n    //       return myChannel.id === channel.id;\r\n    //     })\r\n    //     if (!res) {\r\n    //       channels.push(channel);\r\n    //     }\r\n    //   });\r\n    //   return channels;\r\n    // }\r\n  },\r\n  methods: {\r\n    // 获取全部频道\r\n    async loadAllChannels() {\r\n      try {\r\n        const { data } = await getAllChannels();\r\n        console.log(data);\r\n        this.allChannels = data.data.channels;\r\n      } catch (err) {\r\n        this.$toast('数据获取失败');\r\n      }\r\n    },\r\n    // 添加频道\r\n    async onAddChannel(channel) {\r\n      this.myChannels.push(channel);\r\n      try {\r\n        if (this.user) {\r\n          addUserChannel({\r\n            id: channel.id, // 频道ID\r\n            seq: this.myChannels.length // 序号\r\n          })\r\n        } else {\r\n          setItem('TOUTIAO_CHANNELS', this.myChannels);\r\n        }\r\n      } catch (err) {\r\n        this.$toast('保存失败,请稍后重试');\r\n      }\r\n    },\r\n    // 选择/删除频道\r\n    onMyChannelClick (channel, index) {\r\n      if (this.isEdit) {\r\n        if (this.fixedChannels.includes(index)) {\r\n          return\r\n        }\r\n        this.myChannels.splice(index, 1);\r\n        if (index <= this.active) {\r\n          this.$emit('update-active', this.active - 1);\r\n        }\r\n        // 处理持久化、删除频道\r\n        this.deleteChannel(channel);\r\n      } else {\r\n        // 切换频道\r\n        this.$emit('update-active', index, false);\r\n      }\r\n    },\r\n    // 删除频道\r\n    async deleteChannel(channel) {\r\n      try {\r\n        if (this.user) {\r\n          // 已登录\r\n          await deleteUserChannel(channel.id)\r\n        } else {\r\n          // 未登录\r\n          setItem('TOUTIAO_CHANNELS', this.myChannels)\r\n        }\r\n      } catch (err) {\r\n        this.$toast('操作失败,请稍后重试')\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.loadAllChannels();\r\n  },\r\n  mounted () {},\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.channel-edit {\r\n  padding: 85px 0;\r\n  .title-text {\r\n    font-size: 32px;\r\n    color: #333;\r\n  }\r\n  .edit-btn {\r\n    width: 104px;\r\n    height: 48px;\r\n    font-size: 26px;\r\n    color: #f85959;\r\n    border: 1px solid #f85959;\r\n  }\r\n  /deep/ .grid-item {\r\n    width: 160px;\r\n    height: 86px;\r\n    .van-grid-item__content {\r\n      white-space: nowrap;\r\n      background-color: #f4f5f6;\r\n      .van-grid-item__text, .text {\r\n        font-size: 28px;\r\n        color: #222;\r\n        margin-top: 0;\r\n      }\r\n      .active {\r\n        color: red;\r\n      }\r\n      .van-grid-item__icon-wrapper {\r\n        position: unset;\r\n      }\r\n    }\r\n  }\r\n  /deep/ .my-grid {\r\n    .grid-item {\r\n      .van-icon-clear {\r\n        position: absolute;\r\n        right: -10px;\r\n        top: -10px;\r\n        font-size: 30px;\r\n        color: #cacaca;\r\n        z-index: 2;\r\n      }\r\n    }\r\n  }\r\n  /deep/ .recommend-grid {\r\n    .grid-item {\r\n      .van-grid-item__content {\r\n        flex-direction: row;\r\n        .van-icon-plus {\r\n          font-size: 24px;\r\n          margin-right: 6px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./channel-edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./channel-edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./channel-edit.vue?vue&type=template&id=4eb25d12&scoped=true&\"\nimport script from \"./channel-edit.vue?vue&type=script&lang=js&\"\nexport * from \"./channel-edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./channel-edit.vue?vue&type=style&index=0&id=4eb25d12&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4eb25d12\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"home-container\">\r\n    <!-- 导航栏 -->\r\n    <van-nav-bar class=\"page-nav-bar\" fixed>\r\n      <van-button\r\n        class=\"search-btn\"\r\n        slot=\"title\"\r\n        type=\"info\"\r\n        size=\"small\"\r\n        round\r\n        icon=\"search\"\r\n        to=\"/search\"\r\n      >搜索</van-button>\r\n    </van-nav-bar>\r\n    <!-- 频道列表 -->\r\n    <van-tabs\r\n      class=\"van-tabs\"\r\n      v-model=\"active\"\r\n      animated\r\n      swipeable\r\n    >\r\n      <van-tab\r\n        v-for=\"channel in channels\"\r\n        :key=\"channel.id\"\r\n        :title=\"channel.name\"\r\n      >\r\n        <article-list :channel=\"channel\" />\r\n      </van-tab>\r\n      <div slot=\"nav-right\" class=\"placeholder\"></div>\r\n      <div\r\n        slot=\"nav-right\"\r\n        class=\"hamburger-btn\"\r\n        @click=\"isChannelEditShow = true\"\r\n      >\r\n        <i class=\"iconfont icon-gengduo\"></i>\r\n      </div>\r\n    </van-tabs>\r\n      <!-- 频道编辑弹出层 -->\r\n    <van-popup\r\n      v-model=\"isChannelEditShow\"\r\n      closeable\r\n      position=\"bottom\"\r\n       close-icon-position=\"top-left\"\r\n      :style=\"{ height: '100%' }\"\r\n    >\r\n      <channel-edit\r\n        :my-channels=\"channels\"\r\n        :active=\"active\"\r\n        @update-active=\"onUpdateActive\"\r\n      />\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getUserChannels } from '@/api/user'\r\nimport ArticleList from './components/article-list.vue'\r\nimport ChannelEdit from './components/channel-edit.vue'\r\nimport { mapState } from 'vuex'\r\nimport { getItem } from '@/utils/storage'\r\nexport default {\r\n  name: 'HomeIndex',\r\n  components: {\r\n    ArticleList,\r\n    ChannelEdit\r\n  },\r\n  props: {},\r\n  data () {\r\n    return {\r\n      active: 0,\r\n      channels: [],\r\n      isChannelEditShow: false // 控制编辑频道弹出层的显示状态\r\n    }\r\n  },\r\n  watch: {},\r\n  computed: {\r\n    ...mapState(['user']),\r\n  },\r\n  methods: {\r\n    async loadChannels () {\r\n      try {\r\n        let channels = [];\r\n        if (this.user) {\r\n          const { data } = await getUserChannels();\r\n          channels = data.data.channels\r\n        } else {\r\n          // 未登录\r\n          const localChannels = getItem('TOUTIAO_CHANNELS')\r\n          if (localChannels) {\r\n            channels = localChannels;\r\n          } else {\r\n            // 没有本地数据,请求默认频道列表\r\n            const { data } = await getUserChannels();\r\n            channels = data.data.channels\r\n          }\r\n        }\r\n        this.channels = channels;\r\n        // const { data } = await getUserChannels();\r\n        // this.channels = data.data.channels;\r\n      } catch (err) {\r\n        this.$toast('获取频道数据失败');\r\n      }\r\n    },\r\n    onUpdateActive(index, isChannelEditShow = true) {\r\n      this.active = index;\r\n      this.isChannelEditShow = isChannelEditShow;\r\n    }\r\n  },\r\n  created () {\r\n    this.loadChannels();\r\n  },\r\n  mounted () {},\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.home-container {\r\n  padding: 174px 0 100px;\r\n  .page-nav-bar{\r\n     /deep/ .van-nav-bar__title {\r\n      max-width: unset;\r\n    }\r\n    .search-btn {\r\n      width: 555px;\r\n      height: 64px;\r\n      background-color: #5babfb;\r\n      border: none;\r\n      font-size: 28px;\r\n      .van-icon {\r\n        font-size: 32px;\r\n      }\r\n    }\r\n  }\r\n  /deep/ .van-tabs {\r\n    .van-tabs__wrap {\r\n      height: 82px;\r\n      top: 92px;\r\n      left: 0;\r\n      right: 0;\r\n      position: fixed;\r\n      z-index: 1;\r\n    }\r\n    &__nav {\r\n      padding-bottom: 0;\r\n    }\r\n    &__line {\r\n        width: 31px;\r\n        height: 6px;\r\n        background-color: #3296fa;\r\n        bottom: 8px;\r\n      }\r\n    .van-tab {\r\n      min-width: 200px;\r\n      border-right: 1px solid #edeff3;\r\n      font-size: 30px;\r\n      color: #777;\r\n      &--active {\r\n        color: #333;\r\n      }\r\n    }\r\n    .placeholder {\r\n      width: 66px;\r\n      height: 82px;\r\n      flex-shrink: 0;\r\n    }\r\n    .hamburger-btn {\r\n      position: fixed;\r\n      right: 0;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      width: 66px;\r\n      height: 82px;\r\n      background-color: #fff;\r\n      opacity: 0.902;\r\n      i.iconfont {\r\n        font-size: 33px;\r\n      }\r\n      &::before {\r\n        position: absolute;\r\n        left: 0;\r\n        content: \"\";\r\n        width: 1px;\r\n        height: 80%;\r\n        background-image: linear-gradient(#fff,#999,#fff);\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6987d672&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6987d672&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6987d672\",\n  null\n  \n)\n\nexport default component.exports","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-cell',{staticClass:\"article-item\",attrs:{\"to\":(\"/article/\" + (_vm.article.art_id))}},[_c('div',{staticClass:\"title van-multi-ellipsis--l2\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.article.title))]),_c('div',{attrs:{\"slot\":\"label\"},slot:\"label\"},[(_vm.article.cover.type === 3)?_c('div',{staticClass:\"cover-wrap\"},_vm._l((_vm.article.cover.images),function(img,index){return _c('div',{key:index,staticClass:\"cover-item\"},[_c('van-image',{attrs:{\"slot\":\"default\",\"fit\":\"cover\",\"src\":img},slot:\"default\"})],1)}),0):_vm._e(),(!_vm.userInfo)?_c('div',{staticClass:\"label-info-wrap\"},[_c('span',[_vm._v(_vm._s(_vm.article.aut_name))]),_c('span',[_vm._v(_vm._s(_vm.article.comm_count)+\"评论\")]),_c('span',[_vm._v(_vm._s(_vm._f(\"relativeTime\")(_vm.article.pubdate)))])]):_vm._e()]),(_vm.article.cover.type === 1)?_c('van-image',{attrs:{\"slot\":\"default\",\"fit\":\"cover\",\"src\":_vm.article.cover.images[0]},slot:\"default\"}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <van-cell\r\n    class=\"article-item\"\r\n    :to=\"`/article/${article.art_id}`\"\r\n  >\r\n    <!-- 单个文章 -->\r\n    <div slot=\"title\" class=\"title van-multi-ellipsis--l2\">{{ article.title }}</div>\r\n    <div slot=\"label\">\r\n      <div v-if=\"article.cover.type === 3\" class=\"cover-wrap\">\r\n        <div\r\n          class=\"cover-item\"\r\n          v-for=\"(img, index) in article.cover.images\"\r\n          :key=\"index\"\r\n        >\r\n          <van-image\r\n            slot=\"default\"\r\n            fit=\"cover\"\r\n            :src=\"img\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div v-if=\"!userInfo\" class=\"label-info-wrap\">\r\n        <span>{{ article.aut_name }}</span>\r\n        <span>{{ article.comm_count }}评论</span>\r\n        <span>{{ article.pubdate | relativeTime}}</span>\r\n      </div>\r\n    </div>\r\n    <van-image\r\n      v-if=\"article.cover.type === 1\"\r\n      slot=\"default\"\r\n      fit=\"cover\"\r\n      :src=\"article.cover.images[0]\"\r\n    />\r\n  </van-cell>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ArticleItem',\r\n  components: {},\r\n  props: {\r\n    article: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    userInfo: {\r\n      type: Object,\r\n    }\r\n  },\r\n  data () {\r\n    return {}\r\n  },\r\n  watch: {},\r\n  computed: {},\r\n  methods: {},\r\n  created () {},\r\n  mounted () {},\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.article-item {\r\n  display:flex;\r\n  .title {\r\n    font-size: 32px;\r\n    color: #3a3a3a;\r\n  }\r\n  .van-cell__value {\r\n    flex: unset;\r\n    width: 232px;\r\n    height: 146px;\r\n    padding-left: 25px;\r\n    .van-image {\r\n      width:100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n  .label-info-wrap span{\r\n    font-size: 22px;\r\n    color: #b4b4b4;\r\n    margin-right: 25px;\r\n  }\r\n\r\n  .cover-wrap {\r\n    display: flex;\r\n    padding: 30px 0;\r\n    .cover-item {\r\n      flex: 1;\r\n      height: 146px;\r\n      &:not(:last-child) {\r\n        padding-right: 4px;\r\n      }\r\n      .van-image {\r\n        width: 100%;\r\n        height: 146px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0b1315a3&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0b1315a3&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b1315a3\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","// 用户相关请求模块\r\n\r\nimport request from '@/utils/request'\r\n// 登录\r\nexport const login = data => {\r\n  return request({\r\n    method: 'POST',\r\n    url: './app/v1_0/authorizations',\r\n    data\r\n  })\r\n}\r\n// 获取验证码\r\nexport const sendSms = mobile => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/app/v1_0/sms/codes/${mobile}`,\r\n  })\r\n}\r\n\r\n// 获取用户信息\r\nexport const getUserInfo = () => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/app/v1_0/user',\r\n  })\r\n}\r\n\r\n// 获取用户频道列表\r\nexport const getUserChannels = () => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/app/v1_0/user/channels'\r\n  })\r\n}\r\n\r\n// 关注用户\r\nexport const addFollow = target => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/app/v1_0/user/followings',\r\n    data: {\r\n      target\r\n    }\r\n  });\r\n}\r\n\r\n// 取消关注\r\nexport const delFollow = target => {\r\n  return request({\r\n    method: 'DELETE',\r\n    url: `/app/v1_0/user/followings/${target}`,\r\n  });\r\n}\r\n\r\n// 获取其他用户信息\r\nexport const getUsersInfo = target => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/app/v1_0/users/${target}`,\r\n  })\r\n}\r\n\r\n// 获取用户文章列表\r\nexport const getUserArticleById = target => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/app/v1_0/users/${target}/articles`\r\n  })\r\n}\r\n\r\n// 获取当前登录用户的个人资料\r\nexport const getUserProfile = target => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/app/v1_0/user/profile',\r\n  })\r\n}\r\n\r\n// 修改用户个人资料\r\nexport const updateUserProfile = data => {\r\n  return request({\r\n    method: 'PATCH',\r\n    url: '/app/v1_0/user/profile',\r\n    data\r\n  })\r\n}\r\n\r\n// 编辑用户照片资料\r\nexport const updateUserPhoto = data => {\r\n  return request({\r\n    method: 'PATCH',\r\n    url: '/app/v1_0/user/photo',\r\n    data\r\n  })\r\n}\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0b1315a3&lang=less&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./channel-edit.vue?vue&type=style&index=0&id=4eb25d12&lang=less&scoped=true&\""],"sourceRoot":""}