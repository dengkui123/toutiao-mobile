(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cae381ba"],{"216c":function(t,s,a){},"7c9d":function(t,s,a){"use strict";a("216c")},"8ba5":function(t,s,a){"use strict";a.r(s);var n=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"user-container"},[t.user?n("div",{staticClass:"header user-info"},[n("div",{staticClass:"base-info"},[n("div",{staticClass:"left-info"},[n("van-image",{staticClass:"avatar",attrs:{src:t.userInfo.photo,round:"",fit:"cover"}}),n("span",{staticClass:"name"},[t._v(t._s(t.userInfo.name))])],1),n("div",{staticClass:"edit"},[n("van-button",{attrs:{size:"mini",round:"",to:"/user/profile"}},[t._v("编辑资料")])],1)]),n("div",{staticClass:"data-stats"},[n("div",{staticClass:"data-item"},[n("span",{staticClass:"count"},[t._v(t._s(t.userInfo.art_count))]),n("span",{staticClass:"text"},[t._v("头条")])]),n("div",{staticClass:"data-item"},[n("span",{staticClass:"count"},[t._v(t._s(t.userInfo.follow_count))]),n("span",{staticClass:"text"},[t._v("关注")])]),n("div",{staticClass:"data-item"},[n("span",{staticClass:"count"},[t._v(t._s(t.userInfo.fans_count))]),n("span",{staticClass:"text"},[t._v("粉丝")])]),n("div",{staticClass:"data-item"},[n("span",{staticClass:"count"},[t._v(t._s(t.userInfo.like_count))]),n("span",{staticClass:"text"},[t._v("获赞")])])])]):n("div",{staticClass:"header not-login"},[n("div",{staticClass:"login-btn",on:{click:function(s){return t.$router.push("/login?redirect=/user")}}},[n("img",{staticClass:"avatar",attrs:{src:a("92ef")}}),n("span",{staticClass:"text"},[t._v("登录 / 注册")])])]),n("van-grid",{staticClass:"grid-nav",attrs:{"column-num":2,clickable:""}},[n("van-grid-item",{staticClass:"grid-item"},[n("i",{staticClass:"iconfont icon-shoucang",attrs:{slot:"icon"},slot:"icon"}),n("span",{staticClass:"text",attrs:{slot:"text"},slot:"text"},[t._v("收藏")])]),n("van-grid-item",{staticClass:"grid-item"},[n("i",{staticClass:"iconfont icon-lishi",attrs:{slot:"icon"},slot:"icon"}),n("span",{staticClass:"text",attrs:{slot:"text"},slot:"text"},[t._v("历史")])])],1),n("van-cell",{attrs:{title:"消息通知","is-link":"",to:"/"}}),n("van-cell",{staticClass:"mb-4",attrs:{title:"小智同学","is-link":"",to:"/user/chat"}}),t.user?n("van-cell",{staticClass:"logout-cell",attrs:{title:"退出登录",clickable:""},on:{click:t.onLogout}}):t._e()],1)},e=[],c=a("1da1"),i=a("5530"),o=(a("96cf"),a("2f62")),r=a("c24f"),u={name:"UserIndex",components:{},props:{},data:function(){return{userInfo:{}}},watch:{},computed:Object(i["a"])({},Object(o["b"])(["user"])),methods:{onLogout:function(){var t=this;this.$dialog.confirm({title:"确认退出吗?"}).then((function(){t.$store.commit("setUser",null)})).catch((function(){}))},loadUserInfo:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(r["e"])();case 3:a=s.sent,n=a.data,console.log(n),t.userInfo=n.data,s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](0),t.$toast("获取数据失败,请稍后重试");case 12:case"end":return s.stop()}}),s,null,[[0,9]])})))()}},created:function(){this.user&&this.loadUserInfo()},mounted:function(){}},l=u,f=(a("7c9d"),a("2877")),d=Object(f["a"])(l,n,e,!1,null,"6646ea1c",null);s["default"]=d.exports},"92ef":function(t,s){t.exports="data:image/jpeg;base64,UklGRgIFAABXRUJQVlA4IPYEAADwQgCdASqQAZABPpFIoEwlpKMiItgIMLASCWlu4XSC4l67P1u3W7DzOtbhpxO80l9QBu9vGK8KUecuNg+Ng+Ng+Ng+Ng+Ng+NmI3sgtk3eOsb2QWybvGDjYPjYPjYPjYPjYPjYPjYPjYPjYPjYPjYPjYPjYPjYPjYPjYPjYPj28KPOXGzFH5KK70SkMBJe6b8UWl/BRLOfTJP67ZolioXFhjtVwGZj2Ng54Dmh96N7gSC6iF+k/aImMejeMV4Uo85SUGL2I3hTWLXGuf0Z0cIPOXGwfGwC56hq/vvzPWwihsm1mffmffmWhg9kzL27v7LyiGMKUecuNgJ8lxsHurCGDJbsbB8XK6w6ThR5vSgNIRSkzL3otybpQk5ATccPOW6ZSoNSfZBbJe9C0dOWOaF9QRt5ylpTRMbJKLgxYu3jFTMlf90pZgZjPtzAaVzSzpsvbxivClHkUKpsn4EyQmWzBebm1yvM+/M+/M+/Ms9O/iY93y+OEKbqmywjVeljvbxivClHnKWVrSeHtCGwud9UzNxcoq9n40auob10irh9pwJy42D4ugW4l//+C2gKstk3FM07AK2cdArbmLfK9vGKj9+EVJFzLGXcsybhAlIx7/aJsBJC7JR5Ek8LpK/DKGSTpN3jvL3blVz3teeyIIu/yU+KOxSrDd6vLhV5cKvLhTp5OseYlJSWykOx2iD6glbGwfGwfGwfFtfxG0HYZaEAAP7+XMf92bETVyOrNp/AAAAA/tFAAAAAAAAAADy2nh1WQtZlofcBr7Q9QDYsN0JP7TZxrlGGZna4FfhemfqP0wOiuLZvb4vModDY7z+zb4yDyGco0sNt2LVJOYguSbwa7Y95antP9H/yT0VmKoSUX5Xhx2Dnw4bo04qdkimnor94S41UVyCQJLjF8R8Y+S9g3X4RKeId3tNFDHpngXzRUbZ2PkASzLQMjvFCmSftoj2TepoSbmkmg1qAelF5wiAJk30F3ahtzuuXtdW/Pf5NO9PsemivzPIwx6m57UgOgZiwstW8mvYPphNwORWc3Las7nFhYWFhVVOF5T4l54fBQN3wgx+YBPOdTC5Z/O984OoXdLJZUAdXiQDEVczDDSucuDaOZdX4HGj2hPylzhINlAd53GHdb87ICHeRAep9nPicbK0GJol2n9RgLzziArMyd107qHHQA2renhBAStsCuy1yMjSRgIB2+tEc8ku4o7wg27igrwuyBuMi/TpolHaVN/vOFM1eVJDsGMh6/yAat6A6FxCowjybAG1ODWZHIFgzeVCXoQv6UpWINDieFxeLoj66PXlBMK09G9biG8xnydysCS/a/nE7Z2WaPVD3OF8OarYnVtt539tMZeiuioKztmH6vcwWjjoLYHoEXu0N4XDM4frZzFcDa5RZco9RJ+b5If6F4vqZdI464pE3XBNaaAqLcT4jdS7LhjquMo0cL22nURAJ7pPdlEBrl3MtJ5h2subhgCKY9gc0XK/TOcqT3hr6z/pzsUsyVxy9xGr5fWyRtxW4BuaPTLmEIIOnBxI7nA8j3Bq1QJJf6iaxW7EmFqeEcgL+01v71x0Ay6Ze11Xy9vP4bJ6vI8AAHyXgllCFJv2wWKILHN8xqXx3NUhuFtGYb9jp0AAAXAfTrMgh4T9vf3i6wcg+rQceeMKxvsj4ESmtJcEkABNm8eTKH3P5z0AEgAAA"},c24f:function(t,s,a){"use strict";a.d(s,"h",(function(){return e})),a.d(s,"i",(function(){return c})),a.d(s,"e",(function(){return i})),a.d(s,"d",(function(){return o})),a.d(s,"a",(function(){return r})),a.d(s,"b",(function(){return u})),a.d(s,"g",(function(){return l})),a.d(s,"c",(function(){return f})),a.d(s,"f",(function(){return d})),a.d(s,"k",(function(){return v})),a.d(s,"j",(function(){return p}));var n=a("b775"),e=function(t){return Object(n["a"])({method:"POST",url:"./app/v1_0/authorizations",data:t})},c=function(t){return Object(n["a"])({method:"GET",url:"/app/v1_0/sms/codes/".concat(t)})},i=function(){return Object(n["a"])({method:"GET",url:"/app/v1_0/user"})},o=function(){return Object(n["a"])({method:"GET",url:"/app/v1_0/user/channels"})},r=function(t){return Object(n["a"])({method:"POST",url:"/app/v1_0/user/followings",data:{target:t}})},u=function(t){return Object(n["a"])({method:"DELETE",url:"/app/v1_0/user/followings/".concat(t)})},l=function(t){return Object(n["a"])({method:"GET",url:"/app/v1_0/users/".concat(t)})},f=function(t){return Object(n["a"])({method:"GET",url:"/app/v1_0/users/".concat(t,"/articles")})},d=function(t){return Object(n["a"])({method:"GET",url:"/app/v1_0/user/profile"})},v=function(t){return Object(n["a"])({method:"PATCH",url:"/app/v1_0/user/profile",data:t})},p=function(t){return Object(n["a"])({method:"PATCH",url:"/app/v1_0/user/photo",data:t})}}}]);
//# sourceMappingURL=chunk-cae381ba.adb5e5a6.js.map